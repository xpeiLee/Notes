<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    function getStringlengtn(txt) {
        var len = 0;//保存字符串的总长度
        var c = -1;//存放字符的编码
        for (var i = 0; i < txt.length; i++) {
            c = txt.charCodeAt(i);
            if (c >= 0 && c <= 127) {
                len++;
            } else {
                len += 2;
            }
        }
        return len;
    }

    var txt1 = "ABC efg 中国人 ren民共 和国!!";
    alert(getStringlengtn(txt1));
</script>

</body>
</html>